#! clean build -tSa "-EHsc -O2 -Zc:inline -DNOMINMAX" -d

# Possibly require the MinGW version of libstdc++ https://github.com/lydonchandra/TestSpatialite/tree/master/windows%20server%202012%20issue

name: iop-locnet

src: generated extlib/easylogging++.cc ./src
parent: base
main: ./src/main.cpp

profile:
  - name: base
    inc: ./src generated extlib
    lib: shell32 mod_spatialite libsqlite3-0 # zlib1 #protobuf spatialite sqlite3
    dep:
      - local: win
    arg: -DPROTOBUF_USE_DLLS

  - name: tests
    parent: base
    src: ./src generated
          ./test/test_locnet.cpp
          ./test/test_messaging.cpp
          ./test/test_network.cpp
          ./test/testdata.cpp
          ./test/testimpls.cpp
    main: test/test_main.cpp
